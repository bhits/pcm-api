<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:th="http://www.thymeleaf.org" lang="en">
<head th:include="fragment/common :: headerFragment">
<meta charset="utf-8" />
<!-- title needs to be dynamic -->
<title>My Providers</title>
<meta name="description" content="Consent Management System" />
<meta name="author" content="FEiSystems" />
<!-- END: Meta -->
<!-- START: Mobile Specific -->
<meta name="viewport" content="width=device-width, initial-scale=1" />
<!-- END: Mobile Specific -->
	<!-- START: CSS -->
	<link id="bootstrap-style" href="../../../resources/css/bootstrap.css" rel="stylesheet"/>
	<link href="../../../resources/css/bootstrap-toggle-buttons.css" rel="stylesheet"/>
	<link href="../../../resources/css/font-awesome.css" rel="stylesheet" type="text/css"/>
	<link href="../../../resources/css/themes-style.css" rel="stylesheet"/>
	<link href="../../../resources/css/c2s-core-style.css" rel="stylesheet"/>
	<!-- END: CSS -->
	
	<!-- The HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
		<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->

	<!-- START: Favicon -->
		<!-- 	<link rel="shortcut icon" href="img/favicon.ico"> -->
	<!-- END: Favicon -->
</head>

<body id="connectionMain-page">

<div class="container outmost-holder">

<a href="#add-provider-btn" class="offscreen">skip to add a provider</a>

	<header class="navbar navbar-static-top" role="banner" th:with="currentPageTitle='My Providers',currentPageURI='/patients/connectionMain.html'">
		<div class="container">
			<div class="navbar-header navbar-inner-header" role="navigation" th:substituteby="fragment/patient_fragments :: navbarHeaderFragment">
			
			<!-- EVERYTHING INSIDE HERE IS REPLACED BY THYMELEAF WITH THE navbarHeaderFragment -->
			<!-- The code below is here only to enhance source code readability -->
			
					<a th:include="fragment/common :: mobileMenuButtonFragment" class="btn btn-info btn-mainmenu" data-toggle="collapse" data-target=".top-nav.navbar-collapse,.sidebar-nav.navbar-collapse">
						<span class="fa fa-bars"></span>
					</a>
					<h1>
						<span class="nav-title">My Providers</span>
					</h1>

					<span th:include="fragment/common :: logoFragment">
						<div style="position: relative;">
							<a id="logoFragment" class="navbar-brand brand logo-fragment" th:href="@{/index.html}"  href="index.html"><span id="brand-blue"></span><img src="../../resources/img/consent2share-04.svg" th:src="@{/resources/img/consent2share-04.svg}" alt="user home page"/></a>
							<span id="watermark" class="pg-watermark"><i><p>This site is for DEMONSTRATION PURPOSES only.</p></i></span>
						</div>
					</span>
					
					<!-- COMPONENT: Language Menu Dropdown -->
					<div th:include="fragment/myaccount_menu :: languageFragment" class="btn-group btn-right-align">
						<a class="btn btn-default dropdown-toggle" data-toggle="dropdown" href="#">
							<span class="fa fa-flag"></span>
							<span class="hidden-sm hidden-md"> Language</span>
							<span class="caret"></span>
						</a>
						
						<ul class="dropdown-menu" role="menu">
							<li role="menuitem"><a th:href="@{'/patients/connectionMain.html?lang=en'}">English</a></li>
							<li role="menuitem"><a th:href="@{'/patients/connectionMain.html?lang=cn'}">Chinese</a></li>
						</ul>
					</div>

					<!-- COMPONENT: Header Menu-->

					<div th:include="fragment/myaccount_menu :: myaccountMenuFragment"
						class="btn-group pull-right">

						<a class="btn btn-default" href="#"> <span class="fa fa-envelope"></span><span
							class="hidden-sm hidden-md"> Message Center</span> <span
							class="label label-warning hidden-sm">3</span>
						</a>

						<!-- COMPONENT: User Dropdown -->

						<a class="btn btn-default dropdown-toggle" data-toggle="dropdown" href="#">
							<span class="fa fa-user">&nbsp;</span><span
							class="hidden-sm hidden-md" th:text="#{header_my_account}">
								My Account</span> <span class="caret"></span>
						</a>

						<ul role="menu" class="dropdown-menu">
							<li role="menuitem"><a href="profile.html"
								th:href="@{/patients/profile.html}"
								th:text="#{header_my_profile}">My Profile</a></li>
							<li role="menuitem"><a href="profile.html"
								th:href="@{/patients/profile.html}"
								th:text="#{header_change_password}">Change Password</a></li>
							<li role="menuitem" aria-disabled="true" class="divider"></li>
							<li role="menuitem"><a href="../index.html"
								th:href="@{/resources/j_spring_security_logout}"
								th:text="#{header_logout}">Logout</a></li>
						</ul>
					</div>
			<!-- END OF SECTION REPLACED BY THYMELEAF -->
			</div>
		</div>
		
		<div id="notification_bar" class="notification-bar" th:switch="${notification}">
				<span th:case="'notification_add_provider'">
				<div class="alert alert-info rounded">
				<button type="button" class="close" data-dismiss="alert">&times;</button>
  		    	Click the <a href="../patients/connectionProviderAdd.html"><strong><button class="btn btn-success btn-xs">
													<span class="fa fa-plus fa-white"></span>
												</button></strong></a> button to add a provider.
				</div>
				</span>
				
				<span th:case="'notification_add_one_provider_successed'">
				<div class="alert alert-success rounded">
				<button type="button" class="close" data-dismiss="alert">&times;</button>
  		    	<strong>Congratulations!</strong> You've successfully added a new Provider. Now, you need add your second provider before you create a new Consent.
				</div>
				</span>
				
				<span th:case="'notification_add_second_provider'">
				<div class="alert alert-success rounded">
				<button type="button" class="close" data-dismiss="alert">&times;</button>
  		    	 Now, you need add your second provider before you create a new Consent.
				</div>
				</span>
				
				<span th:case="'notification_add_second_provider_successed'">
				<div class="alert alert-success rounded">
				<button type="button" class="close" data-dismiss="alert">&times;</button>
  		    	<strong>Congratulations!</strong> You've successfully added a second Provider. Now, you may go to <a href="../consents/listConsents.html"><strong>My Consents</strong></a> to add a new Consent.
				</div>
				</span>
				
				<span th:case="'notification_add_consent'">
					<div class="alert alert-success rounded">
					<button type="button" class="close" data-dismiss="alert">&times;</button>
  		    		Now, you may go to <a href="../consents/listConsents.html"><strong>My Consents</strong></a> to add a new Consent.
					</div>
				</span>
				
				<span th:case="'notification_review_sign_consent'">
				<div class="alert alert-info rounded">
				<button type="button" class="close" data-dismiss="alert">&times;</button>
  		    	You have an unsigned consent.  Please go to <a href="../consents/listConsents.html"><strong>My Consents</strong></a> to Review and Sign your Consent.
			    </div>
			    </span>
			    
				 <span th:case="'notification_sign_consent'">
				    <div class="alert alert-info rounded">
							<button type="button" class="close" data-dismiss="alert">&times;</button>
							You have an unsigned consent. To sign your consent, Please go to <a href="../consents/listConsents.html"><strong>My Consents</strong></a> to review and sign your consent.
					</div>
					</span> 
		
		</div>
	</header>
	<div id="under-header"></div>

	<div id="connections-main" class="container">
		<div class="row main-content-wrapper-flux ">					
			<div id="content" class="content">

	<!-- START: Side Nav Menu -->

		<div th:substituteby="fragment/patient_fragments :: sideNavMenuFragment" class="col-md-2 col-sm-3 main-menu-span">
		<!-- EVERYTHING INSIDE HERE IS REPLACED BY THYMELEAF WITH THE sideNavMenuFragment -->
			<!-- The code below is here as a backup only in the event of a Thymeleaf malfunction -->
			
			<div class="navbar-collapse sidebar-nav">
				<ul class="nav nav-tabs nav-stacked main-menu" role="menu">
					<li class="nav-header hidden-md hidden-sm " role="menuitem"></li>
					
					<li id="sidenav_home" role="menuitem"><a href="../patients/home.html" th:href="@{/patients/home.html}">
					<div class="fa fa-home fa-lg"></div>
						<span class="hidden-md" th:text="#{sidebar_my_home}"> My Home</span></a></li>
						
				<li id="sidenav_consents" role="menuitem"><a href="../consents/listConsents.html" th:href="@{/consents/listConsents.html}"><div class="fa fa-file"></div>
						<span class="hidden-md" th:text="#{sidebar_my_consents}"> My Consents</span></a></li>

				<li id="sidenav_providers" role="menuitem"><a href="connectionMain.html" th:href="@{/patients/connectionMain.html}"><div class="fa fa-random"></div>
						<span class="hidden-md" th:text="#{sidebar_my_contacts}"> My Providers </span></a></li>

				<li id="sidenav_profile" role="menuitem"><a href="profile.html" th:href="@{/patients/profile.html}"><div class="fa fa-user"></div>
						<span class="hidden-md" th:text="#{sidebar_my_profile}"> My Profile</span></a></li>

				<li id="sidenav_msgcenter" role="menuitem"><a href="../inbox/inboxMain.html" th:href="@{/inbox/inboxMain.html}"><div class="fa fa-inbox"></div>
						<span class="hidden-md" th:text="#{sidebar_in_box}"> Message Center</span></a></li>


				<li id="sidenav_activityhist" role="menuitem"><a href="activityHistory.html" th:href="@{/patients/activityHistory.html}"><div class="fa fa-clock-o"></div>
						<span class="hidden-md" th:text="#{sidebar_activity_history}"> Activity History</span></a></li>

				<li id="sidenav_meddocs" role="menuitem"><a href="../clinicaldocuments/mymedicalinfo.html" th:href="@{/patients/medicalinfo.html}"><div class="fa fa-folder-open"></div>
						<span class="hidden-md" th:text="#{sidebar_medical_documents}"> Medical Documents</span></a></li>
				
				<li id="sidenav_chgpwd" class="shortcut-button" role="menuitem"><a href="../changePassword.html" th:href="@{/changePassword.html}"><div class="fa fa-unlock-alt"></div>
						<span class="hidden-md"> Change Password</span></a></li>
				
				<li id="sidenav_logout" class="shortcut-button" role="menuitem"><a href="../index.html" th:href="@{/resources/j_spring_security_logout}"><div class="fa fa-off"></div>
						<span class="hidden-md"> Logout</span></a></li>
				</ul>
			</div>
			
		<!-- END OF SECTION REPLACED BY THYMELEAF -->
		</div>

	<!-- END: Side Nav Menu -->
	
	
	<!-- JavaScrip Enable Message -->		
	<noscript th:substituteby="fragment/common :: noscriptFragment">
		<div class="alert alert-warning col-sm-10">
			<p id="h4-style" class="alert-heading">Warning!</p>
			<p>You need to have <a href="https://en.wikipedia.org/wiki/JavaScript" th:href="@{https://en.wikipedia.org/wiki/JavaScript}"
			target="_blank">JavaScript</a>enabled to use this site.</p>
		</div>
	</noscript>
			

				
	<!-- START: Content Region-->
	
	<div id="page-subcontent-holder" role="main" class="col-md-10 col-sm-9">			
			<div class="row">			

		<!-- COMPONENT: Healthcare Providers -->

			<div id="tour-trigger-area">
			<section class="top-margin10 bottom-margin10">
                   
                        <fieldset class="row">
                            <legend>Healthcare Provider <span class="btn-right-align">
                            </span></legend>
                                                   
                            <div class="form-group">
                            	<div style="margin-bottom:15px;"><button id="add-provider-btn" onClick="window.location.href='connectionProviderAdd.html'" class="btn btn-success btn-xs add-btn add_provider_btn">
                            		<span class="fa fa-plus fa-white"></span>
                            		<span>Add a Healthcare Provider</span>
                            		</button>
                            	</div>
                            </div>
                        </fieldset>
                </section>
                
<!-- 			<section class="bottom-margin10">
                	<div>
                		<div class="provider_record_space">
                			<div class="provider_record_box">
                				<div class="provider_record_header unassigned">
                					<p class="result_row">
                						<span class="result_field provider_name_field">Healthcare Provider Name</span>
                						<span class="result_field">[NPI: 0123456789]</span>
                					</p>
                					<p class="result_row add_button_space">
                						<span class="result_field"><button class="btn btn-xs btn-danger"><span class="fa fa-minus fa-white"></span></button></span>Remove this Provider.
                					</p>
                				</div>
                				<p class="result_row"><span class="result_field provider_specialty_field">Provider Specialty Field</span></p>
                				<p class="result_row"><span class="result_field">123 Main Street, Anytown, MD 12345-1234</span></p>
                				<p class="result_row"><span class="result_field">(800) 888-8888</span></p>
                			</div>                			               			
                		</div>
                		<div class="provider_record_space">
                			<div class="provider_record_box">
                				<div class="provider_record_header assigned">
                					<div class="result_row">
                						<span class="result_field provider_name_field">Second Healthcare Provider Name</span>
                						<span class="result_field">[NPI: 0123456789]</span>
                					</div>
                					<div class="result_row add_button_space inline-block">
                						<span  data-trigger="hover" data-toggle="popover"
				 		     		    	data-placement="top" data-content="You can not delete a Provider attached to an active Consent.">
                							<div class="inline-block">
                								<div class="btn btn-xs btn-default" disabled="disabled">
                									<span class="fa fa-minus fa-white"></span>
                								</div>
                							</div>
                						</span>Provider currently assigned to Consent.
									</div>
                				</div>
                				<p class="result_row"><span class="result_field provider_specialty_field">Provider Specialty Field</span></p>
                				<p class="result_row"><span class="result_field">123 Main Street, Anytown, MD 12345-1234</span></p>
                				<p class="result_row"><span class="result_field">(800) 888-8888</span></p>
                			</div>
                		</div>
                	</div>
                </section> 
-->
                
                <section>
                	<table id="current-providers-table" class="table table-striped table-bordered selected-providers-table">
                                    <thead>
                                        <tr>
                                            <th colspan="6">Current Healthcare Providers</th>
                                        </tr>
                                    </thead>

                                    <tbody>
                                   <tr >
                                   		 <td></td>
				                   		 <td><b>Name/Facility</b></td>
				                   		 <td style="width: 30%;"><b>Specialty</b></td>
				                   		 <td><b>NPI</b></td>
				                   		 <td style="width:15%; min-width: 47px;"><b>Contact Number</b></td>
				                   		 <td><b>Address</b></td>
				 		     		 	
								  	 
								</tr>
			                   	 <tr th:each="individualProvider : ${individualProviders}">
			                   	 	 <td class="btn-cannot-delete-text">
			 		     		 	 	<span th:if="${individualProvider.deletable}">
				 		     		 	 	<form th:name="@{'form_delete_indv_' + ${individualProvider.id}}"
				 		     		 	 		th:action="@{connectionMain/deleteIndividualProvider/}" method="post">
												<input type="hidden" name="individualProviderid" th:value="${individualProvider.id}"/>
												<a th:href="@{'javascript:document.' + 'form_delete_indv_' + ${individualProvider.id} + '.submit()'}"
													onclick="return confirm('Are you sure you want to delete this provider?')">
														<span class="btn btn-danger btn-xs">
															<span class="fa fa-minus fa-white"></span>
														</span>
												</a>
											</form>
										</span>
			 		     		 	 
			 		     		     	<span th:unless="${individualProvider.deletable}" data-trigger="hover" data-toggle="popover"
			 		     		     		data-placement="top" data-content="You can not delete a Provider attached to an active Consent.">
			 		     		     		<div>
			 		     		     			<div class="btn btn-default btn-xs" disabled="disabled">
			 		     		     				<span class="fa fa-minus fa-white"></span>
			 		     		     			</div>
			 		     		     		</div>
			 		     		     	</span>
			 		     		 	 </td>
			                   		 <td	th:text="${individualProvider.lastName+', '+individualProvider.firstName}">lastName+firstName</td>
			                   		 <td 	th:text="${individualProvider.providerTaxonomyDescription}">specialty</td>
			                   		 <td	th:text="${individualProvider.npi}">NPI</td>
			              		     <td>   
			              		     		<input type="hidden" id="prov-phone-input-NPInone" th:id="'prov-phone-input-NPI'+${individualProvider.npi}" class="prov-phone-input" th:attr="data-npi=${individualProvider.npi}" th:value="${individualProvider.practiceLocationAddressTelephoneNumber}" />
			              		     		<span id="prov-phone-display-NPInone" th:id="'prov-phone-display-NPI'+${individualProvider.npi}" class="prov-phone-display">
			              		     		</span>
			                   		 </td>
			                   		 <td>
			                   		 		<input type="hidden" id="prov-address-input-NPInone" th:id="'prov-address-input-NPI'+${individualProvider.npi}" class="prov-address-input"
			                   		 			th:attr="data-npi=${individualProvider.npi},data-streetaddress=${individualProvider.firstLinePracticeLocationAddress},data-city=${individualProvider.practiceLocationAddressCityName},data-state=${individualProvider.practiceLocationAddressStateName},data-zip=${individualProvider.practiceLocationAddressPostalCode}" 
			                   		 			value=""/>
			              		     		<span id="prov-address-display-NPInone" th:id="'prov-address-display-NPI'+${individualProvider.npi}" class="prov-address-display">
			              		     		</span>
						              </td>
								</tr>
								
								<tr th:each="organizationalProvider : ${organizationalProviders}">
									<td class="btn-cannot-delete-text">
				 		     		 	<span th:if="${organizationalProvider.deletable}">
				 		     		 		<form th:name="@{'form_delete_org_' + ${organizationalProvider.id}}"
				 		     		 			th:action="@{connectionMain/deleteOrganizationalProvider/}" method="post">
													<input type="hidden" name="organizationalProviderid" th:value="${organizationalProvider.id}"/>
													<a th:href="@{'javascript:document.' + 'form_delete_org_' + ${organizationalProvider.id} + '.submit()'}"
														onclick="return confirm('Are you sure you want to delete this provider?')">
														<span class="btn btn-danger btn-xs">
															<span class="minus-btn fa fa-minus"></span>
														</span>
													</a>
											</form>
										</span>
				 		     		 	 
				 		     		    <span th:unless="${organizationalProvider.deletable}" data-trigger="hover" data-toggle="popover"
				 		     		    	data-placement="top" data-content="You can not delete a Provider attached to an active Consent.">
				 		     		    		<div>
				 		     		    			<div class="btn btn-default btn-xs" disabled="disabled">
				 		     		    				<span class="fa fa-minus fa-white"></span>
				 		     		    			</div>
				 		     		    		</div>
				 		     		    </span>
			 		     		    
			 		     		 	</td> 
			                   		 <td	th:text="${organizationalProvider.orgName}">OfficeName</td>
			                   		 <td	th:text="${organizationalProvider.providerTaxonomyDescription}">specialty</td>
			                   		 <td	th:text="${organizationalProvider.npi}">NPI</td>
			                   		 <td>
			                   		 
			                   		 		<input type="hidden" id="prov-phone-input-NPInone" th:id="'prov-phone-input-NPI'+${organizationalProvider.npi}" class="prov-phone-input" th:attr="data-npi=${organizationalProvider.npi}" th:value="${organizationalProvider.practiceLocationAddressTelephoneNumber}" />
			              		     		<span id="prov-phone-display-NPInone" th:id="'prov-phone-display-NPI'+${organizationalProvider.npi}" class="prov-phone-display">
			              		     		</span>
			                   		 </td>
			                   		 <td >
			                   		 		<input type="hidden" id="prov-address-input-NPInone" th:id="'prov-address-input-NPI'+${organizationalProvider.npi}" class="prov-address-input"
			                   		 			th:attr="data-npi=${organizationalProvider.npi},data-streetaddress=${organizationalProvider.firstLinePracticeLocationAddress},data-city=${organizationalProvider.practiceLocationAddressCityName},data-state=${organizationalProvider.practiceLocationAddressStateName},data-zip=${organizationalProvider.practiceLocationAddressPostalCode}" 
			                   		 			value=""/>
			              		     		<span id="prov-address-display-NPInone" th:id="'prov-address-display-NPI'+${organizationalProvider.npi}" class="prov-address-display">
			              		     		</span>
			                   		 </td>
								</tr>
                                      
                              		</tbody>
                                </table>
                </section>
			</div>

		<!-- COMPONENT: Connections -->
		
			</div>
		</div><!--/#content.col-md-10-->
	</div><!--/row-->
	<!-- END: Content Region -->
		</div>
	</div>
	
	<!-- START: Footer Region -->
	<footer class="bottom" th:substituteby="fragment/common :: indexFooterFragment3">
			
			<!-- COMPONENT: Copyright Information -->
			<p class="top-margin10 pull-left">&copy; <a class="footer-link" href="" target="_blank">A SAMHSA Public Service</a> 2013</p>
	</footer>
	<!-- END: Footer Region -->
</div>
	<!-- START: JavaScript-->
		<script src="../../../resources/js/bootstrap-datepicker.js"
				th:src="@{/resources/js/bootstrap-datepicker.js}" 
				type="text/javascript"></script>
		<script src="../../../resources/js/jquery.cookie.js" 
				th:src="@{/resources/js/jquery.cookie.js}"
				type="text/javascript"></script>
		<script src="../../../resources/js/modernizr.mq.js" 
				th:src="@{/resources/js/modernizr.mq.js}"
				type="text/javascript"></script>
				
		<!-- Custom JS Script -->
		<script src="../../../resources/js/formatParser.js" 
				th:src="@{/resources/js/formatParser.js}"
				type="text/javascript"></script>
		<script src="../../../resources/js/webpage-js/connectionMain.js" 
				th:src="@{/resources/js/webpage-js/connectionMain.js}"
				type="text/javascript" th:inline="javascript"></script>	
		
	<!-- END: JavaScript-->
	
</body>
</html>
